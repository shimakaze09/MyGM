SET(CORE_DEFINES "")
SET(CORE_C_OPTIONS "")
SET(SOURCES "")

IF (MSVC)
    LIST(APPEND CORE_C_OPTION "/fp:fast;/permissive-")
    LIST(APPEND SOURCES "${PROJECT_SOURCE_DIR}/vs/MyGM.natvis")
ENDIF ()

IF (NOT MYGM_USE_SIMD)
    LIST(APPEND CORE_DEFINES MY_NOT_USE_SIMD)
ELSEIF (NOT MYGM_USE_SSE_4_1)
    LIST(APPEND CORE_DEFINES MY_NOT_USE_SSE_4_1)
ENDIF ()

ADD_TARGET(
        MODE INTERFACE
        RET_TARGET_NAME targetName
        SOURCE
        ${SOURCES}
        DEFINE
        ${CORE_DEFINES}
        C_OPTION
        ${CORE_C_OPTIONS}
        INC
        "${PROJECT_SOURCE_DIR}/include"
        LIB
        My::MyTemplate_core
)